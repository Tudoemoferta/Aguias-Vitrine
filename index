<!DOCTYPE html>
<html lang="pt-BR">
<cabeça>
    <meta charset="UTF-8">
    <meta name="viewport" content="largura=largura-do-dispositivo, escala-inicial=1.0">
    <title>🦅 Águias Vitrine - Tudo em Oferta</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="folha de estilo">
    <estilo>
        * {
            margem: 0;
            preenchimento: 0;
            dimensionamento de caixa: caixa de borda;
        }

        corpo {
            família de fontes: 'Segoe UI', Tahoma, Genebra, Verdana, sans-serif;
            altura da linha: 1,6;
            cor: #333;
            fundo: gradiente linear (135 graus, #667eea 0%, #764ba2 100%);
            altura mínima: 100vh;
            posição: relativa;
        }

        corpo::antes {
            contente: '';
            posição: fixa;
            topo: 0;
            esquerda: 0;
            largura: 100%;
            altura: 100%;
            fundo: url('eagle-background.jpg') centro/capa sem repetição;
            opacidade: 0,25;
            índice z: -1;
            filtro: brilho(1.2) contraste(1.1);
        }

        .recipiente {
            largura máxima: 1200px;
            margem: 0 automático;
            preenchimento: 0 20px;
        }

        /* Cabeçalho */
        .cabeçalho {
            fundo: rgba(255, 255, 255, 0,95);
            filtro de pano de fundo: desfoque(10px);
            preenchimento: 1rem 0;
            caixa-sombra: 0 2px 20px rgba(0, 0, 0, 0.1);
            posição: pegajoso;
            topo: 0;
            índice z: 1000;
        }

        .cabeçalho-conteúdo {
            exibição: flexível;
            justificar-conteúdo: espaço-entre;
            alinhar-itens: centro;
            flex-wrap: envolver;
            lacuna: 1rem;
        }

        .logotipo {
            exibição: flexível;
            alinhar-itens: centro;
            lacuna: 15px;
        }

        .logotipo img {
            largura: 50px;
            altura: 50px;
            raio da borda: 50%;
            ajuste de objeto: capa;
            borda: 3px sólido #667eea;
        }

        .logotipo h1 {
            cor: #333;
            tamanho da fonte: 1,8rem;
            espessura da fonte: negrito;
            fundo: gradiente linear(45 graus, #667eea, #764ba2);
            -webkit-background-clip: texto;
            -webkit-text-fill-color: transparente;
            clipe de fundo: texto;
        }

        .ações de cabeçalho {
            exibição: flexível;
            alinhar-itens: centro;
            lacuna: 1rem;
        }

        .status-de-conexão {
            exibição: flexível;
            alinhar-itens: centro;
            lacuna: 5px;
            preenchimento: 5px 10px;
            raio da borda: 20px;
            tamanho da fonte: 0,8rem;
            espessura da fonte: negrito;
        }

        .status-de-conexão.online {
            fundo: #4CAF50;
            cor: branco;
        }

        .status-de-conexão.offline {
            fundo: #f44336;
            cor: branco;
        }

        .admin-btn {
            fundo: gradiente linear(45 graus, #667eea, #764ba2);
            cor: branco;
            borda: nenhuma;
            preenchimento: 10px 20px;
            raio da borda: 25px;
            cursor: ponteiro;
            espessura da fonte: negrito;
            transição: todos os 0,3s de facilidade;
        }

        .admin-btn:passe o mouse {
            transformar: translateY(-2px);
            caixa-sombra: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        /* Procurar */
        .seção de pesquisa {
            fundo: rgba(255, 255, 255, 0.9);
            filtro de pano de fundo: desfoque(10px);
            preenchimento: 2rem 0;
            margem: 2rem 0;
            raio da borda: 20px;
            caixa-sombra: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .pesquisa-container {
            exibição: flexível;
            lacuna: 1rem;
            largura máxima: 600px;
            margem: 0 automático;
        }

        .entrada de pesquisa {
            flexibilidade: 1;
            preenchimento: 15px 20px;
            borda: 2px sólido #e0e0e0;
            raio da borda: 25px;
            tamanho da fonte: 1rem;
            transição: todos os 0,3s de facilidade;
        }

        .entrada de pesquisa:foco {
            esboço: nenhum;
            cor da borda: #667eea;
            caixa-sombra: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .botão de pesquisa {
            fundo: gradiente linear(45 graus, #667eea, #764ba2);
            cor: branco;
            borda: nenhuma;
            preenchimento: 15px 25px;
            raio da borda: 25px;
            cursor: ponteiro;
            espessura da fonte: negrito;
            transição: todos os 0,3s de facilidade;
        }

        .search-btn:passe o mouse {
            transformar: translateY(-2px);
            caixa-sombra: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        /* Categorias */
        .categorias-seção {
            margem: 2rem 0;
        }

        .categorias-título {
            alinhamento de texto: centro;
            cor: branco;
            tamanho da fonte: 2rem;
            margem inferior: 2rem;
            sombra de texto: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .categorias-grade {
            exibição: grade;
            grid-template-columns: repetir(ajuste automático, minmax(250px, 1fr));
            lacuna: 1,5rem;
            margem inferior: 2rem;
        }

        .categoria-cartão {
            fundo: rgba(255, 255, 255, 0,95);
            filtro de pano de fundo: desfoque(10px);
            preenchimento: 2rem;
            raio da borda: 15px;
            alinhamento de texto: centro;
            cursor: ponteiro;
            transição: todos os 0,3s de facilidade;
            caixa-sombra: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .categoria-cartão:hover {
            transformar: translateY(-10px);
            caixa-sombra: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        .categoria-cartão.ativo {
            fundo: gradiente linear(45 graus, #667eea, #764ba2);
            cor: branco;
        }

        .ícone de categoria {
            tamanho da fonte: 3rem;
            margem inferior: 1rem;
            fundo: gradiente linear(45 graus, #667eea, #764ba2);
            -webkit-background-clip: texto;
            -webkit-text-fill-color: transparente;
            clipe de fundo: texto;
        }

        .categoria-card.ativo .categoria-ícone {
            cor: branco;
            -webkit-text-fill-color: branco;
        }

        .nome-da-categoria {
            tamanho da fonte: 1,2rem;
            espessura da fonte: negrito;
            margem inferior: 0,5rem;
        }

        .contagem de categorias {
            tamanho da fonte: 0,9rem;
            opacidade: 0,8;
        }

        /* Subcategorias */
        .subcategorias {
            exibição: nenhuma;
            flex-wrap: envolver;
            lacuna: 0,5rem;
            margem superior: 1rem;
            justificar-conteúdo: centro;
        }

        .subcategorias.ativo {
            exibição: flexível;
        }

        .subcategoria-btn {
            fundo: rgba(255, 255, 255, 0.8);
            borda: 2px sólido #667eea;
            cor: #667eea;
            preenchimento: 8px 15px;
            raio da borda: 20px;
            cursor: ponteiro;
            tamanho da fonte: 0,8rem;
            transição: todos os 0,3s de facilidade;
        }

        .subcategoria-btn:passe o mouse,
        .subcategoria-btn.ativo {
            fundo: #667eea;
            cor: branco;
        }

        /* Produtos */
        .seção-de-produtos {
            margem: 2rem 0;
        }

        .cabeçalho-de-produtos {
            exibição: flexível;
            justificar-conteúdo: espaço-entre;
            alinhar-itens: centro;
            margem inferior: 2rem;
            flex-wrap: envolver;
            lacuna: 1rem;
        }

        .produtos-título {
            cor: branco;
            tamanho da fonte: 1,8rem;
            sombra de texto: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .produtos-estatísticas {
            cor: branco;
            tamanho da fonte: 1rem;
            opacidade: 0,9;
        }

        .produtos-grade {
            exibição: grade;
            grid-template-columns: repetir(preenchimento automático, minmax(300px, 1fr));
            lacuna: 2rem;
        }

        .cartão-do-produto {
            fundo: rgba(255, 255, 255, 0,95);
            filtro de pano de fundo: desfoque(10px);
            raio da borda: 15px;
            estouro: oculto;
            caixa-sombra: 0 10px 30px rgba(0, 0, 0, 0.1);
            transição: todos os 0,3s de facilidade;
            posição: relativa;
        }

        .produto-cartão:hover {
            transformar: translateY(-10px);
            caixa-sombra: 0 20px 50px rgba(0, 0, 0, 0.2);
        }

        .imagem-do-produto {
            largura: 100%;
            altura: 200px;
            ajuste de objeto: capa;
            borda inferior: 3px sólido #667eea;
        }

        .conteúdo do produto {
            preenchimento: 1,5rem;
        }

        .nome-do-produto {
            tamanho da fonte: 1,2rem;
            espessura da fonte: negrito;
            margem inferior: 0,5rem;
            cor: #333;
            exibição: -webkit-box;
            -webkit-line-clamp: 2;
            grampo de linha: 2;
            -webkit-box-orient: vertical;
            estouro: oculto;
        }

        .plataforma-de-produto {
            fundo: gradiente linear(45 graus, #667eea, #764ba2);
            cor: branco;
            preenchimento: 4px 12px;
            raio da borda: 15px;
            tamanho da fonte: 0,8rem;
            espessura da fonte: negrito;
            exibição: bloco embutido;
            margem inferior: 1rem;
        }

        .preços-dos-produtos {
            margem inferior: 1rem;
        }

        .preço-do-produto {
            tamanho da fonte: 1,5rem;
            espessura da fonte: negrito;
            cor: #4CAF50;
        }

        .produto-preço-antigo {
            tamanho da fonte: 1rem;
            cor: #999;
            decoração de texto: linha-através;
            margem esquerda: 10px;
        }

        .desconto-do-produto {
            fundo: #ff4444;
            cor: branco;
            preenchimento: 4px 8px;
            raio da borda: 10px;
            tamanho da fonte: 0,8rem;
            espessura da fonte: negrito;
            margem esquerda: 10px;
        }

        .Descrição do produto {
            cor: #666;
            tamanho da fonte: 0,9rem;
            margem inferior: 1rem;
            exibição: -webkit-box;
            -webkit-line-clamp: 3;
            grampo de linha: 3;
            -webkit-box-orient: vertical;
            estouro: oculto;
        }

        .ações do produto {
            exibição: flexível;
            lacuna: 1rem;
        }

        .comprar-btn {
            flexibilidade: 1;
            fundo: gradiente linear(45 graus, #4CAF50, #45a049);
            cor: branco;
            borda: nenhuma;
            preenchimento: 12px;
            raio da borda: 10px;
            cursor: ponteiro;
            espessura da fonte: negrito;
            transição: todos os 0,3s de facilidade;
            decoração de texto: nenhuma;
            alinhamento de texto: centro;
            exibição: flexível;
            alinhar-itens: centro;
            justificar-conteúdo: centro;
            lacuna: 8px;
        }

        .comprar-btn:passar o mouse {
            transformar: translateY(-2px);
            caixa-sombra: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .ações de administrador {
            exibição: nenhuma;
            lacuna: 0,5rem;
        }

        .ações-admin.mostrar {
            exibição: flexível;
        }

        .botão-editar, .botão-excluir {
            preenchimento: 8px;
            borda: nenhuma;
            raio da borda: 5px;
            cursor: ponteiro;
            tamanho da fonte: 0,8rem;
            transição: todos os 0,3s de facilidade;
        }

        .editar-btn {
            fundo: #2196F3;
            cor: branco;
        }

        .excluir-btn {
            fundo: #f44336;
            cor: branco;
        }

        .editar-botão:passar o mouse, .excluir-botão:passar o mouse {
            transformar: escala(1.1);
        }

        /* Painel de administração */
        .painel de administração {
            exibição: nenhuma;
            posição: fixa;
            topo: 0;
            esquerda: 0;
            largura: 100%;
            altura: 100%;
            fundo: rgba(0, 0, 0, 0.8);
            índice z: 2000;
            estouro-y: automático;
        }

        .painel de administração.mostrar {
            exibição: flexível;
            alinhar-itens: centro;
            justificar-conteúdo: centro;
            preenchimento: 2rem;
        }

        .admin-conteúdo {
            fundo: branco;
            raio da borda: 15px;
            preenchimento: 2rem;
            largura máxima: 600px;
            largura: 100%;
            altura máxima: 90vh;
            estouro-y: automático;
        }

        .admin-cabeçalho {
            exibição: flexível;
            justificar-conteúdo: espaço-entre;
            alinhar-itens: centro;
            margem inferior: 2rem;
            preenchimento inferior: 1rem;
            borda inferior: 2px sólido #e0e0e0;
        }

        .admin-título {
            tamanho da fonte: 1,5rem;
            cor: #333;
        }

        .fechar-btn {
            fundo: #f44336;
            cor: branco;
            borda: nenhuma;
            preenchimento: 8px 12px;
            raio da borda: 5px;
            cursor: ponteiro;
            espessura da fonte: negrito;
        }

        .admin-formulário {
            exibição: grade;
            lacuna: 1rem;
        }

        .grupo de formulários {
            exibição: grade;
            lacuna: 0,5rem;
        }

        .rótulo-do-formulário {
            espessura da fonte: negrito;
            cor: #333;
        }

        .formulário-entrada, .formulário-seleção, .formulário-área de texto {
            preenchimento: 12px;
            borda: 2px sólido #e0e0e0;
            raio da borda: 8px;
            tamanho da fonte: 1rem;
            transição: todos os 0,3s de facilidade;
        }

        .form-input:foco, .form-select:foco, .form-textarea:foco {
            esboço: nenhum;
            cor da borda: #667eea;
            caixa-sombra: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .formulário-área de texto {
            redimensionar: vertical;
            altura mínima: 100px;
        }

        .grupo de preços {
            exibição: grade;
            colunas de modelo de grade: 1fr 1fr auto;
            lacuna: 1rem;
            alinhar-itens: fim;
        }

        .form-ações {
            exibição: flexível;
            lacuna: 1rem;
            margem superior: 1rem;
        }

        .botão-salvar, .botão-cancelar {
            flexibilidade: 1;
            preenchimento: 12px;
            borda: nenhuma;
            raio da borda: 8px;
            cursor: ponteiro;
            espessura da fonte: negrito;
            transição: todos os 0,3s de facilidade;
        }

        .salvar-btn {
            fundo: gradiente linear(45 graus, #4CAF50, #45a049);
            cor: branco;
        }

        .cancelar-btn {
            fundo: #f44336;
            cor: branco;
        }

        .botão salvar: pairar, .botão cancelar: pairar {
            transformar: translateY(-2px);
        }

        /* Conecte-se */
        .formulário de login {
            exibição: grade;
            lacuna: 1rem;
            largura máxima: 300px;
            margem: 0 automático;
        }

        .entrada de login {
            preenchimento: 12px;
            borda: 2px sólido #e0e0e0;
            raio da borda: 8px;
            tamanho da fonte: 1rem;
            alinhamento de texto: centro;
        }

        .botão de login {
            fundo: gradiente linear(45 graus, #667eea, #764ba2);
            cor: branco;
            borda: nenhuma;
            preenchimento: 12px;
            raio da borda: 8px;
            cursor: ponteiro;
            espessura da fonte: negrito;
        }

        /* Notificações */
        .notificação {
            posição: fixa;
            topo: 20px;
            direita: 20px;
            fundo: #4CAF50;
            cor: branco;
            preenchimento: 1rem 1,5rem;
            raio da borda: 10px;
            caixa-sombra: 0 5px 20px rgba(0, 0, 0, 0.2);
            índice z: 3000;
            transformar: translateX(400px);
            transição: todos os 0,3s de facilidade;
        }

        .notificação.mostrar {
            transformar: translateX(0);
        }

        .notificação.erro {
            fundo: #f44336;
        }

        .notificação.aviso {
            fundo: #ff9800;
        }

        /* Estado vazio */
        .estado-vazio {
            alinhamento de texto: centro;
            cor: branco;
            preenchimento: 4rem 2rem;
        }

        .estado vazio i {
            tamanho da fonte: 4rem;
            margem inferior: 1rem;
            opacidade: 0,5;
        }

        .estado vazio h3 {
            tamanho da fonte: 1,5rem;
            margem inferior: 1rem;
        }

        .estado vazio p {
            opacidade: 0,8;
        }

        /* Rodapé */
        .rodapé {
            fundo: rgba(0, 0, 0, 0.8);
            cor: branco;
            alinhamento de texto: centro;
            preenchimento: 2rem 0;
            margem superior: 4rem;
        }

        .rodapé-conteúdo {
            exibição: flexível;
            justificar-conteúdo: centro;
            alinhar-itens: centro;
            lacuna: 2rem;
            flex-wrap: envolver;
        }

        .rodapé-contato {
            exibição: flexível;
            alinhar-itens: centro;
            lacuna: 0,5rem;
        }

        /* Responsivo */
        @media (largura máxima: 768px) {
            .cabeçalho-conteúdo {
                flex-direction: coluna;
                alinhamento de texto: centro;
            }

            .pesquisa-container {
                flex-direction: coluna;
            }

            .categorias-grade {
                grid-template-columns: repetir(ajuste automático, minmax(200px, 1fr));
            }

            .produtos-grade {
                colunas de modelo de grade: 1fr;
            }

            .cabeçalho-de-produtos {
                flex-direction: coluna;
                alinhamento de texto: centro;
            }

            .admin-conteúdo {
                margem: 1rem;
                preenchimento: 1rem;
            }

            .grupo de preços {
                colunas de modelo de grade: 1fr;
            }

            .form-ações {
                flex-direction: coluna;
            }
        }

        /* Carregando */
        .carregando {
            exibição: nenhuma;
            alinhamento de texto: centro;
            cor: branco;
            preenchimento: 2rem;
        }

        .carregando.mostrar {
            exibir: bloco;
        }

        .carregando i {
            tamanho da fonte: 2rem;
            animação: rotação 1s linear infinita;
        }

        @keyframes girar {
            0% { transformar: girar(0 graus); }
            100% { transformar: girar(360 graus); }
        }

        /* Controles de backup */
        .controles de backup {
            exibição: nenhuma;
            lacuna: 1rem;
            margem superior: 1rem;
        }

        .controles de backup.mostrar {
            exibição: flexível;
        }

        .botão de backup {
            fundo: #2196F3;
            cor: branco;
            borda: nenhuma;
            preenchimento: 10px 15px;
            raio da borda: 5px;
            cursor: ponteiro;
            tamanho da fonte: 0,9rem;
            transição: todos os 0,3s de facilidade;
        }

        .backup-btn:passe o mouse {
            fundo: #1976D2;
        }
    </estilo>
</head>
<corpo>
    <!-- Cabeçalho -->
    <cabeçalho classe="cabeçalho">
        <div class="container">
            <div class="header-content">
                <div class="logotipo">
                    <img src="eagle-logo.jpg" alt="Logotipo da Águia" onerror="this.style.display='none'">
                    <h1>🦅 Águias Vitrine</h1>
                </div>
                <div class="ações-cabeçalho">
                    <div class="status-da-conexão offline" id="connectionStatus">
                        <i class="fas fa-wifi"></i>
                        <span>Off-line</span>
                    </div>
                    <botão classe="admin-btn" onclick="toggleAdminPanel()">
                        <i class="fas fa-cog"></i> Administração
                    </botão>
                </div>
            </div>
        </div>
    </cabeçalho>

    <!-- Seção de pesquisa -->
    <section class="search-section">
        <div class="container">
            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="Buscar produto por nome ou código...">
                <button class="search-btn" onclick="searchProducts()">
                    <i class="fas fa-search"></i> Buscar
                </botão>
            </div>
        </div>
    </seção>

    <!-- Seção de categorias -->
    <seção class="categorias-seção">
        <div class="container">
            <h2 class="categories-title">Categorias</h2>
            <div class="categorias-grade" id="categoriasGrid">
                <!-- As categorias serão preenchidas por JavaScript -->
            </div>
            <div class="subcategorias" id="subcategoriasContainer">
                <!-- As subcategorias serão preenchidas por JavaScript -->
            </div>
        </div>
    </seção>

    <!-- Seção de Produtos -->
    <section class="produtos-seção">
        <div class="container">
            <div class="cabeçalho-dos-produtos">
                <h2 class="products-title" id="productsTitle">Todos os Produtos</h2>
                <div class="products-stats" id="productsStats">0 produtos encontrados</div>
            </div>
            <div class="carregando" id="carregando">
                <i class="fas fa-spinner"></i>
                <p>Carregando produtos...</p>
            </div>
            <div class="produtos-grade" id="produtosGrid">
                <!-- Os produtos serão preenchidos por JavaScript -->
            </div>
            <div class="estado-vazio" id="estado-vazio" style="display: none;">
                <i class="fas fa-box-open"></i>
                <h3>Nenhum produto encontrado</h3>
                <p>Não há produtos cadastrados nesta categoria ainda.</p>
            </div>
        </div>
    </seção>

    <!-- Rodapé -->
    <rodapé classe="rodapé">
        <div class="container">
            <div class="footer-content">
                <div class="footer-contact">
                    <i class="fas fa-envelope"></i>
                    tudoemoferta123@gmail.com
                </div>
                <div>
                    <span>© 2025 Águias Vitrine - Todos os direitos reservados</span>
                </div>
            </div>
        </div>
    </rodapé>

    <!-- Painel de administração -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-content">
            <div class="admin-header">
                <h2 class="admin-title" id="adminTitle">Login Administrativo</h2>
                <button class="close-btn" onclick="closeAdminPanel()">
                    <i class="fas fa-times"></i>
                </botão>
            </div>
            
            <!-- Formulário de login -->
            <div id="loginSection">
                <div class="formulário de login">
                    <input type="password" class="login-input" id="passwordInput" placeholder="Digite a senha do administrador">
                    <botão class="login-btn" onclick="login()">
                        <i class="fas fa-sign-in-alt"></i> Entrar
                    </botão>
                </div>
            </div>

            <!-- Painel de administração -->
            <div id="adminDashboard" style="display: none;">
                <div class="backup-controls show">
                    <button class="backup-btn" onclick="exportProducts()">
                        <i class="fas fa-download"></i> Exportar Produtos
                    </botão>
                    <button class="backup-btn" onclick="importProducts()">
                        <i class="fas fa-upload"></i> Importar Produtos
                    </botão>
                    <botão class="backup-btn" onclick="syncWithFirebase()">
                        <i class="fas fa-sync"></i> Forçar sincronização
                    </botão>
                </div>
                
                <!-- Formulário do produto -->
                <formulário class="admin-form" id="productForm" onsubmit="saveProduct(evento)">
                    <div class="grupo-de-formulários">
                        <label class="form-label">Nome do Produto *</label>
                        <input type="text" class="form-input" id="productName" obrigatório>
                    </div>
                    
                    <div class="grupo-de-formulários">
                        <label class="form-label">Categoria *</label>
                        <select class="form-select" id="productCategory" obrigatório onchange="updateSubcategories()">
                            <option value="">Selecione uma categoria</option>
                            <option value="vestimentas">Vestimentas e Acessórios</option>
                            <option value="eletrônicos">Eletrônicos</option>
                            <option value="celular">Celular</option>
                            <option value="casa">Casa e Decoração</option>
                            <option value="beleza">Beleza</option>
                            <option value="utilidades">Utilidades em Geral</option>
                            <option value="ebooks">E-books</option>
                        </selecionar>
                    </div>
                    
                    <div class="grupo-de-formulários">
                        <label class="form-label">Subcategoria</label>
                        <selecione classe="form-select" id="productSubcategory">
                            <option value="">Selecione uma subcategoria</option>
                        </selecionar>
                    </div>
                    
                    <div class="grupo-de-formulários">
                        <label class="form-label">Plataforma *</label>
                        <select class="form-select" id="productPlatform" obrigatório>
                            <option value="">Selecione a plataforma</option>
                            <opção valor="Amazon">Amazon</opção>
                            <opção valor="AliExpress">AliExpress</opção>
                            <option value="Mercado Livre">Mercado Livre</option>
                            <opção valor="Shopee">Shopee</opção>
                            <option value="Revista Luiza">Revista Luiza</option>
                            <option value="Americanas">Americanas</option>
                            <option value="Casas Bahia">Casas Bahia</option>
                            <opção valor="Submarino">Submarino</opção>
                            <option value="Outro">Outro</option>
                        </selecionar>
                    </div>
                    
                    <div class="grupo-de-preços">
                        <div class="grupo-de-formulários">
                            <label class="form-label">Preço Atual (R$) *</label>
                            <input type="number" class="form-input" id="productPrice" step="0.01" obrigatório>
                        </div>
                        <div class="grupo-de-formulários">
                            <label class="form-label">Preço Anterior (R$)</label>
                            <tipo de entrada="número" classe="entrada-do-formulário" id="produtoPreçoAntigo" passo="0,01">
                        </div>
                        <div class="grupo-de-formulários">
                            <label class="form-label">Desconto (%)</label>
                            <input type="number" class="form-input" id="productDiscount" somente leitura>
                        </div>
                    </div>
                    
                    <div class="grupo-de-formulários">
                        <label class="form-label">Link de Afiliado *</label>
                        <input type="url" class="form-input" id="productLink" espaço reservado obrigatório="https://...">
                    </div>
                    
                    <div class="grupo-de-formulários">
                        <label class="form-label">URL da Imagem *</label>
                        <input type="url" class="form-input" id="productImage" espaço reservado obrigatório="https://...">
                    </div>
                    
                    <div class="grupo-de-formulários">
                        <label class="form-label">Código do Produto</label>
                        <input type="text" class="form-input" id="productCode" placeholder="SKU, código de barras, etc.">
                    </div>
                    
                    <div class="grupo-de-formulários">
                        <label class="form-label">Descrição</label>
                        <textarea class="form-textarea" id="productDescription" placeholder="Descreva o produto, suas características principais..."></textarea>
                    </div>
                    
                    <div class="ações-do-formulário">
                        <button type="enviar" class="salvar-btn">
                            <i class="fas fa-save"></i> <span id="saveButtonText">Salvar Produto</span>
                        </botão>
                        <botão tipo="botão" classe="cancelar-btn" onclick="cancelEdit()">
                            <i class="fas fa-times"></i> Cancelar
                        </botão>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Entrada de arquivo oculto para importação -->
    <tipo de entrada="arquivo" id="fileInput" aceitar=".json" estilo="exibir: nenhum;" onchange="handleFileImport(evento)">

    <!-- SDK do Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <script>
        // Configuração do Firebase - SUAS CREDENCIAIS REAIS
        const firebaseConfig = {
            apiKey: "AIzaSyBrZxqpoEg5EbVd8AUG_dIxnFIjvYjsnfw",
            authDomain: "aguiasvitrine-74f52.firebaseapp.com",
            URL do banco de dados: "https://aguiasvitrine-74f52-default-rtdb.firebaseio.com",
            projectId: "aguiasvitrine-74f52",
            storageBucket: "aguiasvitrine-74f52.firebasestorage.app",
            messagingSenderId: "295007219045",
            ID do aplicativo: "1:295007219045:web:674f40eeccba37b1e9458c"
        };

        // Inicializar Firebase
        firebase.initializeApp(firebaseConfig);
        const banco de dados = firebase.database();
        const auth = firebase.auth();

        // Variáveis ​​Globais
        deixe produtos = [];
        deixe currentFilter = 'todos';
        deixe isAdmin = falso;
        deixe editingProductId = nulo;
        deixe isOnline = falso;
        const ADMIN_PASSWORD = 'aguias2025';
        const STORAGE_KEY = 'aguiasVitrineProducts';

        // Mapeamento de subcategorias
        const subcategorias = {
            vestimentas: ['masculino', 'feminino', 'infantil', 'hospitalar', 'moda-praia'],
            eletrônicos: ['tv-áudio', 'informática', 'jogos', 'câmeras', 'casa inteligente'],
            celular: ['smartphones', 'acessorios', 'capas', 'carregadores', 'fones'],
            casa: ['móveis', 'decoração', 'cozinha', 'banheiro', 'jardim'],
            beleza: ['maquiagem', 'perfumes', 'cuidados-pele', 'cabelo', 'unhas'],
            russas: ['ferramentas', 'automotivo', 'esporte', 'pet', 'escritório'],
            e-books: ['negócios', 'autoajuda', 'tecnologia', 'saude', 'educação']
        };

        // Inicializa o aplicativo
        documento.addEventListener('DOMContentLoaded', função() {
            inicializarAplicativo();
        });

        // Inicializar aplicação
        função assíncrona initializeApplication() {
            tentar {
                // Configurar monitoramento de conexão
                setupConnectionMonitoring();
                
                // Carregar produtos do Firebase
                aguarde loadProductsFromFirebase();
                
                // Configurar ouvintes em tempo real
                setupRealtimeListeners();
                
                // Configurar ouvintes de eventos
                setupEventListeners();
                
                // Renderização inicial
                renderCategories();
                renderProdutos();
                atualizarStats();
                
                showNotification('Aplicativo inicializado com sucesso!');
            } catch (erro) {
                console.error('Erro ao inicializar o aplicativo:', erro);
                // Fallback para armazenamento local
                carregarProdutosDoLocal();
                renderCategories();
                renderProdutos();
                atualizarStats();
                showNotification('Modo offline - usando dados locais', 'erro');
            }
        }

        // Configurar monitoramento de conexão
        função setupConnectionMonitoring() {
            const connectedRef = banco de dados.ref('.info/conectado');
            connectedRef.on('valor', (instantâneo) => {
                isOnline = snapshot.val() === verdadeiro;
                atualizarStatusDeConexão();
            });
        }

        // Atualizar status da conexão
        função updateConnectionStatus() {
            const statusElement = document.getElementById('connectionStatus');
            const statusIcon = statusElement.querySelector('i');
            const statusText = statusElement.querySelector('span');
            
            se (estáOnline) {
                statusElement.className = 'status de conexão online';
                statusIcon.className = 'fas fa-wifi';
                statusText.textContent = 'Online';
            } outro {
                statusElement.className = 'status de conexão offline';
                statusIcon.className = 'fas fa-wifi-slash';
                statusText.textContent = 'Off-line';
            }
        }

        // Configurar ouvintes em tempo real
        função setupRealtimeListeners() {
            const productsRef = database.ref('produtos');
            productsRef.on('valor', (instantâneo) => {
                se (snapshot.exists()) {
                    const firebaseProducts = instantâneo.val();
                    produtos = Object.keys(firebaseProducts).map(chave => ({
                        id: chave,
                        ...firebaseProducts[chave]
                    }));
                    
                    // Salvar no armazenamento local como backup
                    salvarProdutosParaLocal();
                    
                    // Re-renderizar produtos
                    renderProdutos();
                    atualizarStats();
                }
            });
        }

        // Carregar produtos do Firebase
        função assíncrona loadProductsFromFirebase() {
            tentar {
                const snapshot = await database.ref('produtos').once('valor');
                se (snapshot.exists()) {
                    const firebaseProducts = instantâneo.val();
                    produtos = Object.keys(firebaseProducts).map(chave => ({
                        id: chave,
                        ...firebaseProducts[chave]
                    }));
                } outro {
                    // Se não houver produtos no Firebase, verifique o armazenamento local
                    carregarProdutosDoLocal();
                    se (produtos.length > 0) {
                        // Carregar produtos locais no Firebase
                        aguardar syncLocalToFirebase();
                    }
                }
                salvarProdutosParaLocal();
            } catch (erro) {
                console.error('Erro ao carregar do Firebase:', erro);
                carregarProdutosDoLocal();
            }
        }

        // Carregar produtos do armazenamento local
        função loadProductsFromLocal() {
            tentar {
                const armazenado = localStorage.getItem(STORAGE_KEY);
                produtos = armazenados ? JSON.parse(armazenado) : [];
            } catch (erro) {
                console.error('Erro ao carregar do armazenamento local:', erro);
                produtos = [];
            }
        }

        // Salvar produtos no armazenamento local
        função saveProductsToLocal() {
            tentar {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(produtos));
            } catch (erro) {
                console.error('Erro ao salvar no armazenamento local:', erro);
            }
        }

        // Sincronizar produtos locais com o Firebase
        função assíncrona syncLocalToFirebase() {
            se (!isOnline || produtos.length === 0) retornar;
            
            tentar {
                const productsRef = database.ref('produtos');
                const produtosObj = {};
                
                produtos.forEach(produto => {
                    const id = produto.id || gerarId();
                    produtosObj[id] = { ...produto };
                    excluir productsObj[id].id;
                });
                
                aguardar productsRef.set(productsObj);
                showNotification('Produtos sincronizados com sucesso!');
            } catch (erro) {
                console.error('Erro ao sincronizar com o Firebase:', erro);
                showNotification('Erro ao sincronizar produtos', 'erro');
            }
        }

        // Configurar ouvintes de eventos
        função setupEventListeners() {
            // Entrada de pesquisa
            document.getElementById('searchInput').addEventListener('entrada', debounce(searchProducts, 300));
            
            // Cálculo de preço
            document.getElementById('productPrice').addEventListener('input', calcularDesconto);
            document.getElementById('productOldPrice').addEventListener('input', calcularDesconto);
            
            // Tecla Enter para pesquisa
            document.getElementById('searchInput').addEventListener('keypress', função(e) {
                se (e.key === 'Enter') {
                    pesquisarProdutos();
                }
            });
            
            // Tecla Enter para login
            document.getElementById('passwordInput').addEventListener('keypress', função(e) {
                se (e.key === 'Enter') {
                    Conecte-se();
                }
            });
        }

        // Categorias de renderização
        função renderCategories() {
            const categoriesGrid = document.getElementById('categoriesGrid');
            categorias const = [
                { id: 'todos', nome: 'Todos os Produtos', ícone: 'fas fa-th-large' },
                { id: 'vestimentas', nome: 'Vestimentas e Acessórios', ícone: 'fas fa-tshirt' },
                { id: 'eletrônicos', nome: 'Eletrônicos', ícone: 'fas fa-laptop' },
                { id: 'celular', nome: 'Celular', ícone: 'fas fa-mobile-alt' },
                { id: 'casa', nome: 'Casa e Decoração', ícone: 'fas fa-home' },
                { id: 'beleza', nome: 'Beleza', ícone: 'fas fa-heart' },
                { id: 'utilidades', nome: 'Utilidades em Geral', ícone: 'fas fa-tools' },
                { id: 'e-books', nome: 'E-books', ícone: 'fas fa-book' }
            ];
            
            categoriesGrid.innerHTML = categorias.map(categoria => {
                const count = categoria.id === 'todos' ? produtos.length : produtos.filter(p => p.category === categoria.id).length;
                const isActive = currentFilter === category.id ? 'ativo' : '';
                
                retornar `
                    <div class="cartão-de-categoria ${isActive}" onclick="filterByCategory('${category.id}')">
                        <div class="ícone-de-categoria">
                            <i class="${category.icon}"></i>
                        </div>
                        <div class="nome-da-categoria">${categoria.nome}</div>
                        <div class="category-count">${count} produtos</div>
                    </div>
                `;
            }).juntar('');
            
            // Renderizar subcategorias se uma categoria principal for selecionada
            renderSubcategorias();
        }

        // Renderizar subcategorias
        função renderSubcategories() {
            const subcategoriasContainer = document.getElementById('subcategoriasContainer');
            
            se (currentFilter === 'todos' || !subcategorias[currentFilter]) {
                subcategoriasContainer.classList.remove('ativo');
                retornar;
            }
            
            const subs = subcategorias[filtroatual];
            subcategoriasContainer.innerHTML = subs.map(sub => {
                const isActive = currentFilter.includes(sub) ? 'ativo' : '';
                retornar `
                    <button class="subcategoria-btn ${isActive}" onclick="filterBySubcategory('${currentFilter}', '${sub}')">
                        ${sub.charAt(0).toUpperCase() + sub.slice(1).replace('-', ' ')}
                    </botão>
                `;
            }).juntar('');
            
            subcategoriasContainer.classList.add('ativo');
        }

        // Filtrar por categoria
        função filterByCategory(categoria) {
            currentFilter = categoria;
            renderCategories();
            renderProdutos();
            atualizarStats();
            
            // Atualizar título
            const título = categoria === 'todos'? 'Todos os Produtos' :
                         document.querySelector(`[onclick="filterByCategory('${category}')"] .category-name`).textContent;
            document.getElementById('productsTitle').textContent = título;
        }

        // Filtrar por subcategoria
        função filterBySubcategory(categoria, subcategoria) {
            currentFilter = `${categoria}-${subcategoria}`;
            renderProdutos();
            atualizarStats();
            
            // Atualizar subcategoria ativa
            document.querySelectorAll('.subcategory-btn').forEach(btn => btn.classList.remove('ativo'));
            event.target.classList.add('ativo');
            
            // Atualizar título
            document.getElementById('productsTitle').textContent =
                `${subcategoria.charAt(0).toUpperCase() + subcategoria.slice(1).replace('-', ' ')}`;
        }

        // Pesquisar produtos
        função searchProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
            
            se (!termo de pesquisa) {
                renderProdutos();
                retornar;
            }
            
            const filteredProducts = produtos.filter(produto =>
                produto.nome.toLowerCase().includes(termo de pesquisa) ||
                (produto.código && produto.código.toLowerCase().includes(termo de pesquisa)) ||
                (produto.descrição && produto.descrição.toLowerCase().includes(termo de pesquisa))
            );
            
            renderFilteredProducts(produtos filtrados);
            document.getElementById('productsTitle').textContent = `Resultados para "${searchTerm}"`;
            document.getElementById('productsStats').textContent = `${filteredProducts.length} produtos encontrados`;
        }

        // Renderizar produtos
        função renderProducts() {
            deixe filteredProducts = produtos;
            
            se (currentFilter !== 'todos') {
                se (currentFilter.includes('-')) {
                    // Filtro de subcategoria
                    const [categoria, subcategoria] = currentFilter.split('-');
                    Produtosfiltrados = produtos.filtro(p =>
                        p.categoria === categoria && p.subcategoria === subcategoria
                    );
                } outro {
                    // Filtro de categoria principal
                    filteredProducts = produtos.filter(p => p.category === currentFilter);
                }
            }
            
            renderFilteredProducts(produtos filtrados);
        }

        // Renderizar produtos filtrados
        função renderFilteredProducts(produtosfiltrados) {
            const productsGrid = document.getElementById('productsGrid');
            const emptyState = document.getElementById('emptyState');
            const carregando = document.getElementById('carregando');
            
            carregando.classList.remove('mostrar');
            
            se (filteredProducts.length === 0) {
                produtosGrid.innerHTML = '';
                emptyState.style.display = 'bloco';
                retornar;
            }
            
            emptyState.style.display = 'nenhum';
            
            productsGrid.innerHTML = filteredProducts.map(produto => {
                const desconto = produto.preçoantigo && produto.preço?
                    Math.round(((produto.preçoantigo - produto.preço) / produto.preçoantigo) * 100) : 0;
                
                retornar `
                    <div class="produto-cartão">
                        <img src="${product.image}" alt="${product.name}" class="imagem-do-produto"
                             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHR leHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlbSBuw6NvIGVuY29udHJhZGE8L3RleHQ+PC9zdmc+'">
                        <div class="conteúdo-do-produto">
                            <h3 class="nome-do-produto">${product.name}</h3>
                            <div class="plataforma-do-produto">${produto.plataforma}</div>
                            <div class="preços-do-produto">
                                <span class="preço-do-produto">R$ ${parseFloat(produto.preço).toFixed(2)}</span>
                                ${product.oldPrice ? `<span class="product-old-price">R$ ${parseFloat(product.oldPrice).toFixed(2)}</span>` : ''}
                                ${desconto > 0 ? `<span class="product-discount">-${desconto}%</span>` : ''}
                            </div>
                            ${product.description ? `<p class="product-description">${product.description}</p>` : ''}
                            <div class="ações-do-produto">
                                <a href="${product.link}" target="_blank" class="buy-btn">
                                    <i class="fas fa-shopping-cart"></i> Comprar
                                </a>
                                <div class="admin-actions ${isAdmin ? 'show' : ''}">
                                    <button class="edit-btn" onclick="editProduct('${product.id}')">
                                        <i class="fas fa-edit"></i>
                                    </botão>
                                    <button class="delete-btn" onclick="deleteProduct('${product.id}')">
                                        <i class="fas fa-trash"></i>
                                    </botão>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }).juntar('');
        }

        // Atualizar estatísticas
        função updateStats() {
            deixe filteredProducts = produtos;
            
            se (currentFilter !== 'todos') {
                se (currentFilter.includes('-')) {
                    const [categoria, subcategoria] = currentFilter.split('-');
                    Produtosfiltrados = produtos.filtro(p =>
                        p.categoria === categoria && p.subcategoria === subcategoria
                    );
                } outro {
                    filteredProducts = produtos.filter(p => p.category === currentFilter);
                }
            }
            
            document.getElementById('productsStats').textContent =
                `${filteredProducts.length} produtos encontrados`;
        }

        // Funções de administração
        função toggleAdminPanel() {
            const painel = document.getElementById('adminPanel');
            painel.classList.add('mostrar');
            
            se (éAdmin) {
                mostrarPainel de Administração();
            } outro {
                mostrarFormulário de Login();
            }
        }

        função closeAdminPanel() {
            document.getElementById('adminPanel').classList.remove('mostrar');
            resetForm();
        }

        função showLoginForm() {
            document.getElementById('loginSection').style.display = 'bloco';
            document.getElementById('adminDashboard').style.display = 'nenhum';
            document.getElementById('adminTitle').textContent = 'Login Administrativo';
            documento.getElementById('passwordInput').focus();
        }

        função showAdminDashboard() {
            document.getElementById('loginSection').style.display = 'nenhum';
            document.getElementById('adminDashboard').style.display = 'bloco';
            document.getElementById('adminTitle').textContent = 'Painel Administrativo';
        }

        função login() {
            const senha = document.getElementById('passwordInput').value;
            
            se (senha === SENHA_ADMIN) {
                isAdmin = verdadeiro;
                mostrarPainel de Administração();
                renderProducts(); // Atualizar para mostrar botões de administração
                showNotification('Login realizado com sucesso!');
                documento.getElementById('passwordInput').valor = '';
            } outro {
                showNotification('Senha incorreta!', 'erro');
                documento.getElementById('passwordInput').valor = '';
                documento.getElementById('passwordInput').focus();
            }
        }

        função logout() {
            isAdmin = falso;
            fecharPainelAdmin();
            renderProducts(); // Atualizar para ocultar botões de administração
            showNotification('Logout realizado com sucesso!');
        }

        // Gestão de produtos
        função updateSubcategories() {
            const categoria = document.getElementById('productCategory').value;
            const subcategoriaSelect = document.getElementById('productSubcategory');
            
            subcategorySelect.innerHTML = '<option value="">Selecione uma subcategoria</option>';
            
            se (categoria && subcategorias[categoria]) {
                subcategorias[categoria].forEach(sub => {
                    const opção = document.createElement('opção');
                    opção.valor = sub;
                    opção.textContent = sub.charAt(0).toUpperCase() + sub.slice(1).replace('-', ' ');
                    subcategoriaSelect.appendChild(opção);
                });
            }
        }

        função calcularDesconto() {
            const preço = parseFloat(document.getElementById('productPrice').value) || 0;
            const oldPrice = parseFloat(document.getElementById('productOldPrice').value) || 0;
            
            se (preço > 0 && preçoantigo > 0 && preçoantigo > preço) {
                desconto const = Math.round(((oldPrice - preço) / oldPrice) * 100);
                document.getElementById('productDiscount').value = desconto;
            } outro {
                document.getElementById('descontodoproduto').valor = '';
            }
        }

        função assíncrona saveProduct(evento) {
            evento.preventDefault();
            
            const formData = {
                nome: document.getElementById('productName').value.trim(),
                categoria: document.getElementById('productCategory').value,
                subcategoria: document.getElementById('productSubcategory').value,
                plataforma: document.getElementById('productPlatform').value,
                preço: parseFloat(document.getElementById('productPrice').value),
                oldPrice: parseFloat(document.getElementById('productOldPrice').value) || nulo,
                link: document.getElementById('productLink').value.trim(),
                imagem: document.getElementById('productImage').value.trim(),
                código: document.getElementById('productCode').value.trim(),
                descrição: document.getElementById('productDescription').value.trim(),
                criado em: nova data().toISOString()
            };
            
            // Validação
            if (!formData.name || !formData.category || !formData.platform ||
                !formData.price || !formData.link || !formData.image) {
                showNotification('Preencha todos os campos obrigatórios!', 'error');
                retornar;
            }
            
            tentar {
                se (ediçãoProductId) {
                    // Atualizar produto existente
                    aguarde updateProductInFirebase(editingProductId, formData);
                    showNotification('Produto atualizado com sucesso!');
                } outro {
                    // Adicionar novo produto
                    aguarde addProductToFirebase(formData);
                    showNotification('Produto adicionado com sucesso!');
                }
                
                resetForm();
                renderProdutos();
                renderCategories();
                atualizarStats();
                
            } catch (erro) {
                console.error('Erro ao salvar produto:', erro);
                showNotification('Erro ao salvar o produto. Tente novamente.', 'error');
            }
        }

        função assíncrona addProductToFirebase(productData) {
            se (estáOnline) {
                tentar {
                    const newProductRef = banco de dados.ref('produtos').push();
                    aguarde newProductRef.set(productData);
                    
                    // Adicionar ao array local
                    produtos.push({
                        id: novaRefProduto.chave,
                        ...dados do produto
                    });
                } catch (erro) {
                    console.error('Erro ao adicionar ao Firebase:', erro);
                    // Fallback para armazenamento local
                    addProductLocally(dados do produto);
                }
            } outro {
                addProductLocally(dados do produto);
            }
            
            salvarProdutosParaLocal();
        }

        função addProductLocally(productData) {
            const novoProduto = {
                id: gerarId(),
                ...dados do produto
            };
            produtos.push(novoProduto);
        }

        função assíncrona updateProductInFirebase(productId, productData) {
            se (estáOnline) {
                tentar {
                    aguarde banco de dados.ref(`produtos/${productId}`).update(productData);
                } catch (erro) {
                    console.error('Erro ao atualizar no Firebase:', erro);
                }
            }
            
            // Atualizar array local
            const index = produtos.findIndex(p => p.id === productId);
            se (índice !== -1) {
                produtos[índice] = { id: productId, ...productData };
                salvarProdutosParaLocal();
            }
        }

        function editarProduto(produtoId) {
            const produto = produtos.find(p => p.id === productId);
            se (!produto) retornar;
            
            ediçãoProductId = productId;
            
            // Preencha o formulário com os dados do produto
            document.getElementById('productName').value = produto.nome || '';
            document.getElementById('productCategory').value = produto.categoria || '';
            atualizarSubcategorias();
            document.getElementById('productSubcategory').value = produto.subcategoria || '';
            document.getElementById('productPlatform').value = produto.plataforma || '';
            document.getElementById('productPrice').value = produto.preço || '';
            document.getElementById('produtoPreçoAntigo').value = produto.PreçoAntigo || '';
            documento.getElementById('productLink').value = produto.link || '';
            document.getElementById('productImage').value = produto.imagem || '';
            document.getElementById('productCode').value = product.code || '';
            document.getElementById('productDescription').value = produto.descrição || '';
            
            calcularDesconto();
            
            // Atualizar IU
            document.getElementById('saveButtonText').textContent = 'Atualizar Produto';
            alternarPainelAdmin();
        }

        função assíncrona deleteProduct(productId) {
            if (!confirm('Tem certeza que deseja excluir este produto?')) return;
            
            tentar {
                se (estáOnline) {
                    aguarde database.ref(`products/${productId}`).remove();
                }
                
                // Remover do array local
                produtos = produtos.filter(p => p.id !== productId);
                salvarProdutosParaLocal();
                
                renderProdutos();
                renderCategories();
                atualizarStats();
                
                showNotification('Produto excluído com sucesso!');
                
            } catch (erro) {
                console.error('Erro ao excluir produto:', erro);
                showNotification('Erro ao excluir produto. Tente novamente.', 'error');
            }
        }

        função cancelEdit() {
            resetForm();
        }

        função resetForm() {
            documento.getElementById('productForm').reset();
            ediçãoProductId = nulo;
            document.getElementById('saveButtonText').textContent = 'Salvar Produto';
            document.getElementById('descontodoproduto').valor = '';
        }

        // Funções de backup
        função exportProducts() {
            const dataStr = JSON.stringify(produtos, nulo, 2);
            const dataBlob = novo Blob([dataStr], {tipo: 'aplicativo/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `aguias-vitrine-backup-${new Date().toISOString().split('T')[0]}.json`;
            link.clique();
            
            showNotification('Backup exportado com sucesso!');
        }

        função importProducts() {
            documento.getElementById('fileInput').click();
        }

        função handleFileImport(evento) {
            const arquivo = event.target.files[0];
            se (!arquivo) retornar;
            
            const leitor = novo FileReader();
            leitor.onload = função(e) {
                tentar {
                    const produtosimportados = JSON.parse(e.target.result);
                    
                    se (!Array.isArray(produtosimportados)) {
                        throw new Error('Formato de arquivo inválido');
                    }
                    
                    if (confirm(`Importar ${importedProducts.length} produtos? Isso substituirá todos os produtos atuais.`)) {
                        produtos = importedProducts.map(produto => ({
                            ...produto,
                            id: produto.id || gerarId()
                        }));
                        
                        salvarProdutosParaLocal();
                        sincronizarLocalToFirebase();
                        
                        renderProdutos();
                        renderCategories();
                        atualizarStats();
                        
                        showNotification('Produtos importados com sucesso!');
                    }
                    
                } catch (erro) {
                    console.error('Erro ao importar produtos:', erro);
                    showNotification('Erro ao importar produtos. Verifique o formato do arquivo.', 'error');
                }
            };
            
            leitor.readAsText(arquivo);
            evento.alvo.valor = '';
        }

        função assíncrona syncWithFirebase() {
            se (!estáOnline) {
                showNotification('Sem conexão com a internet!', 'erro');
                retornar;
            }
            
            tentar {
                showNotification('Sincronizando...', 'aviso');
                aguardar syncLocalToFirebase();
                showNotification('Sincronização concluída!');
            } catch (erro) {
                console.error('Erro de sincronização:', erro);
                showNotification('Erro na sincronização!', 'erro');
            }
        }

        // Funções utilitárias
        função generateId() {
            retornar Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        função debounce(função, espera) {
            deixe o tempo limite;
            retornar função performedFunction(...args) {
                const depois = () => {
                    clearTimeout(tempo limite);
                    func(...argumentos);
                };
                clearTimeout(tempo limite);
                timeout = setTimeout(mais tarde, aguarde);
            };
        }

        função showNotification(mensagem, tipo = 'sucesso') {
            // Remover notificação existente
            const existente = document.querySelector('.notification');
            se (existente) {
                existente.remove();
            }
            
            notificação const = document.createElement('div');
            notification.className = `notificação ${type}`;
            notificação.innerHTML = `
                <i class="fas fa-${type === 'sucesso' ? 'verificação' : type === 'erro' ? 'triângulo de exclamação' : 'info'}"></i>
                ${mensagem}
            `;
            
            document.body.appendChild(notificação);
            
            // Mostrar notificação
            setTimeout(() => notificação.classList.add('mostrar'), 100);
            
            // Ocultar notificação
            definirTempoLimite(() => {
                notificação.classList.remove('mostrar');
                setTimeout(() => notificação.remove(), 300);
            }, 3000);
        }
    </script>
</corpo>
</html>
Problemas ao Publicar Site de Vendas no GitHub - Manus